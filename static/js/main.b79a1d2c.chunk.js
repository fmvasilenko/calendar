(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{70:function(n,t,e){},75:function(n,t,e){"use strict";e.r(t);var r=e(3),a=e(2),c=e.n(a),i=e(38),o=e.n(i),u=e(60),s=e(25),d=e(12),l=(e(70),e(46)),b=e(17),p=function(n){return{type:"USER/AUTHORIZED",payload:n}},f=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("h1",{children:"Main"})})},j=e(20),h=e(6),O=e(7),x=function(n){return{black:"#333",red:"#ff5e78",blue:"#51c2d5",pink:"#ffb4b4",green:"#75cfb8",grey:"#eee",white:"white"}[n]};function v(){var n=Object(h.a)(["\n  width: 100%;\n  height: 50px;\n  font-size: 16px;\n  font-weight: bold;\n  color: ",";\n  background: ",";\n  border-radius: 5px;\n  cursor: pointer;\n\n  border: ",";\n\n  &:hover {\n    opacity: 0.5;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: default;\n  }\n"]);return v=function(){return n},n}var g=O.a.button(v(),(function(n){return x(n.color)}),(function(n){return x(n.background)}),(function(n){return n.border?"2px solid ".concat(x(n.border)):"none"})),m={resolve:{color:"white",background:"green"},reject:{color:"red",background:"white",border:"red"},loading:{color:"white",background:"blue"}},y=function(n){var t=n.label,e=n.view,a=n.type,c=void 0===a?"button":a,i=n.disabled,o=void 0!==i&&i,u=n.onClick,s=void 0===u?function(){}:u,d="string"===typeof e?m[e]:e,l=d.color,b=d.border,p=d.background;return Object(r.jsx)(g,{type:c,color:l,border:b,background:p,disabled:o,onClick:s,children:t})};function w(){var n=Object(h.a)(["\n  width: 120px;\n"]);return w=function(){return n},n}function k(){var n=Object(h.a)(["\n  font-size: 18px;\n"]);return k=function(){return n},n}function E(){var n=Object(h.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  margin-right: 15px;\n"]);return E=function(){return n},n}function N(){var n=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: -65px;\n"]);return N=function(){return n},n}function I(){var n=Object(h.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 10px 0;\n  border-bottom: 1px solid #eee;\n"]);return I=function(){return n},n}function T(){var n=Object(h.a)(["\n  grid-area: header;\n  width: 100%;\n  padding-left: 121px;\n"]);return T=function(){return n},n}var U=O.a.header(T()),S=O.a.div(I()),R=O.a.div(N()),D=O.a.img(E()),A=O.a.div(k()),C=O.a.div(w()),F=function(n){var t=n.user,e=t.name,a=t.lastName,c=t.photo,i=Object(d.b)();return Object(r.jsx)(U,{children:Object(r.jsxs)(S,{children:[Object(r.jsxs)(R,{children:[Object(r.jsx)(D,{src:c}),Object(r.jsx)(A,{children:"".concat(e," ").concat(a)})]}),Object(r.jsx)(C,{children:Object(r.jsx)(y,{view:"reject",label:"\u0412\u044b\u0439\u0442\u0438",onClick:function(){return i({type:"USER/SIGNOUT",payload:null})}})})]})})},H=e(58);function z(){var n=Object(h.a)(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  width: 20px;\n  height: 20px;\n  font-size: 20px;\n  line-height: 20px;\n  opacity: 0.3;\n  border: 0;\n  background: none;\n  cursor: pointer;\n"]);return z=function(){return n},n}function G(){var n=Object(h.a)(["\n  width: 100%;\n  margin-top: 10px;\n"]);return G=function(){return n},n}function M(){var n=Object(h.a)(["\n  width: 100%;\n  font-size: 18px;\n  font-weight: bold;\n"]);return M=function(){return n},n}function Z(){var n=Object(h.a)(["\n  position: relative;\n  width: 100%;\n  padding: 20px;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 5px;\n  background: ",";\n"]);return Z=function(){return n},n}var L=O.a.div(Z(),x("red"),x("red"),x("pink")),V=O.a.p(M()),_=O.a.p(G()),B=O.a.button(z()),P=function(n){var t=n.title,e=n.description,c=Object(a.useState)(!0),i=Object(H.a)(c,2),o=i[0],u=i[1];return o?Object(r.jsxs)(L,{children:[Object(r.jsx)(V,{children:t}),Object(r.jsx)(_,{children:e}),Object(r.jsx)(B,{type:"button",onClick:function(){u(!1)},children:"\u2716"})]}):Object(r.jsx)(r.Fragment,{})};function Y(){var n=Object(h.a)(["\n  width: 100%;\n  margin-top: 10px;\n"]);return Y=function(){return n},n}function W(){var n=Object(h.a)(["\n  width: 120px;\n"]);return W=function(){return n},n}function K(){var n=Object(h.a)(["\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 10px 0;\n  border-bottom: 1px solid #eee;\n"]);return K=function(){return n},n}function J(){var n=Object(h.a)(["\n  grid-area: header;\n  width: 100%;\n  padding-left: 121px;\n"]);return J=function(){return n},n}var X=O.a.header(J()),q=O.a.div(K()),Q=O.a.div(W()),$=O.a.div(Y()),nn=function(){var n=Object(d.b)();return Object(r.jsxs)(X,{children:[Object(r.jsx)(q,{children:Object(r.jsx)(Q,{children:Object(r.jsx)(y,{view:"resolve",label:"\u0412\u043e\u0439\u0442\u0438",onClick:function(){return n({type:"USER/SIGNIN",payload:null})}})})}),Object(r.jsx)($,{children:Object(r.jsx)(P,{title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0414\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f!",description:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"})})]})},tn=function(){var n=Object(d.c)((function(n){return n.user})),t=n.status,e=n.details;return"AUTHORIZED"===t&&e?Object(r.jsx)(F,{user:e}):Object(r.jsx)(nn,{})};function en(){var n=Object(h.a)(["\n  margin-top: 10px;\n  color: #333;\n  padding-bottom: 30px;\n  border-bottom: 1px solid #eee;\n"]);return en=function(){return n},n}function rn(){var n=Object(h.a)(["\n  color: #333;\n"]);return rn=function(){return n},n}function an(){var n=Object(h.a)(["\n  grid-area: event;\n  padding-left: 121px;\n"]);return an=function(){return n},n}var cn=O.a.div(an()),on=O.a.h1(rn()),un=O.a.p(en()),sn=function(){var n=Object(d.c)((function(n){return n.event})),t=n.name,e=n.description;return Object(r.jsxs)(cn,{children:[Object(r.jsx)(on,{children:t}),Object(r.jsx)(un,{children:e})]})},dn=function(n){return{type:"FORM/CHANGED",payload:{status:"CHANGED",initialized:!0,table:n}}},ln=function(n){switch(n){case"busy":return x("red");case"undesirable":return x("pink");case"free":return x("blue");case"preferred":return x("green");default:return""}};function bn(){var n=Object(h.a)(["\n  width: 50px;\n  height: 50px;\n  background: ",";\n  cursor: pointer;\n  border: 0 solid white;\n\n  &:hover {\n    border: 2px solid white;\n  }\n"]);return bn=function(){return n},n}var pn=O.a.td(bn(),(function(n){return ln(n.status)})),fn=function(n){var t=n.status,e=n.row,a=n.column,c=n.callBack;return Object(r.jsx)(pn,{status:t,onClick:function(){return c(e,a)}})};function jn(){var n=Object(h.a)(["\n  width: 120px;\n  height: 50px;\n  font-size: 15px;\n  text-align: left;\n  text-transform: capitalize;\n  color: #333;\n  padding-left: 10px;\n  border-radius: 5px 0 0 5px;\n  background: #eee;\n"]);return jn=function(){return n},n}function hn(){var n=Object(h.a)(["\n  height: 50px;\n  font-size: 15px;\n  color: #333;\n  border-radius: 5px 5px 0 0;\n  background: #eee;\n"]);return hn=function(){return n},n}var On=O.a.th(hn()),xn=O.a.th(jn()),vn=function(n){var t=n.days,e=n.hours,a=n.matrix,c=n.callBack;return Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{}),e.map((function(n,t){return Object(r.jsx)(On,{children:n},"".concat(t))}))]})}),Object(r.jsx)("tbody",{children:a.map((function(n,e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)(xn,{children:t[e]}),n.map((function(n,t){return Object(r.jsx)(fn,{status:a[e][t],row:e,column:t,callBack:c},"".concat(e).concat(t))}))]},"".concat(e))}))})]})};function gn(){var n=Object(h.a)(["\n  max-width: 300px;\n  margin-left: 122px;\n  margin-bottom: 10px;\n  color: #333;\n"]);return gn=function(){return n},n}function mn(){var n=Object(h.a)(["\n  grid-area: table;\n"]);return mn=function(){return n},n}var yn=O.a.div(mn()),wn=O.a.h2(gn()),kn=function(){var n=Object(d.b)(),t=Object(d.c)((function(n){return n.event})),e=t.days,a=t.hours,c=Object(d.c)((function(n){return n.form})).table,i=Object(d.c)((function(n){return n.tool}));return e.length&&a.length?Object(r.jsxs)(yn,{children:[Object(r.jsx)(wn,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0433\u0434\u0430 \u0432\u0430\u043c \u0443\u0434\u043e\u0431\u043d\u043e \u0432\u0441\u0442\u0440\u0435\u0442\u0438\u0442\u044c\u0441\u044f:"}),Object(r.jsx)(vn,{days:e,hours:a,matrix:c,callBack:function(t,e){n(dn(c.map((function(n,r){return n.map((function(n,a){return t===r&&e===a?i:c[r][a]}))}))))}})]}):Object(r.jsx)(r.Fragment,{})};function En(){var n=Object(h.a)(["\n  padding-left: 65px;\n  margin: 10px 0;\n  font-size: 20px;\n  font-weight: bold;\n  color: #333;\n"]);return En=function(){return n},n}function Nn(){var n=Object(h.a)(["\n  width: 280px;\n"]);return Nn=function(){return n},n}var In=O.a.form(Nn()),Tn=O.a.p(En());function Un(){var n=Object(h.a)(["\n  display: none;\n\n  &:checked ~ "," {\n    min-width: 60px;\n  }\n\n  &:checked ~ "," {\n    border-top: 1px solid;\n    border-right: 1px solid;\n    border-bottom: 1px solid;\n    border-color: ",";\n  }\n"]);return Un=function(){return n},n}function Sn(){var n=Object(h.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  padding: 0 15px;\n  background: #eee;\n  border-radius: 0 5px 5px 0;\n"]);return Sn=function(){return n},n}function Rn(){var n=Object(h.a)(["\n  display: block;\n  min-width: 50px;\n  height: 50px;\n  background: ",";\n  border-radius: 5px 0 0 5px;\n  z-index: 1;\n  transition-property: min-width;\n  transition-duration: 0.1s;\n  transition-timing-function: ease-in;\n"]);return Rn=function(){return n},n}function Dn(){var n=Object(h.a)(["\n  display: flex;\n  width: 100%;\n  margin-top: 5px;\n  cursor: pointer;\n"]);return Dn=function(){return n},n}var An=O.a.label(Dn()),Cn=O.a.span(Rn(),(function(n){return ln(n.toolType)})),Fn=O.a.span(Sn()),Hn=O.a.input(Un(),Cn,Fn,(function(n){return ln(n.toolType)})),zn=function(n){var t=n.toolType,e=n.label,a=n.chosen,c=n.callBack;return Object(r.jsxs)(An,{onClick:function(){return c?c(t):null},children:[Object(r.jsx)(Hn,{toolType:t,type:"radio",name:"tool",defaultChecked:a}),Object(r.jsx)(Cn,{toolType:t}),Object(r.jsx)(Fn,{children:e})]})},Gn=function(n){var t=n.title,e=n.items,a=n.chosenTool,c=n.callBack;return Object(r.jsxs)(In,{children:[Object(r.jsx)(Tn,{children:t}),e.map((function(n,t){return Object(r.jsx)(zn,Object(j.a)(Object(j.a)({},n),{},{callBack:c,chosen:a===n.toolType}),"".concat(t))}))]})},Mn={title:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f:",items:[{toolType:"busy",label:"\u0422\u043e\u0447\u043d\u043e \u0437\u0430\u043d\u044f\u0442\u043e"},{toolType:"undesirable",label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043d\u044f\u0442\u043e"},{toolType:"free",label:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u043e"},{toolType:"preferred",label:"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}]};function Zn(){var n=Object(h.a)(["\n  grid-area: toolsPanel;\n  align-self: end;\n"]);return Zn=function(){return n},n}var Ln=O.a.div(Zn()),Vn=function(){var n=Object(d.b)(),t=Object(d.c)((function(n){return n.tool})),e=Object(d.c)((function(n){return n.event})),a=e.days,c=e.hours;return a.length&&c.length?Object(r.jsx)(Ln,{children:Object(r.jsx)(Gn,Object(j.a)({},Object(j.a)(Object(j.a)({},Mn),{},{chosenTool:t,callBack:function(t){n(function(n){return{type:"TOOL/SET",payload:n}}(t))}})))}):Object(r.jsx)(r.Fragment,{})};function _n(){var n=Object(h.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  min-width: 50px;\n  height: 50px;\n  padding-top: 5px;\n  margin-right: 5px;\n  border-radius: 5px;\n  background: ",";\n\n  ::before {\n    position: absolute;\n    top: 25px;\n    left: 20px;\n    height: 15px;\n    width: 5px;\n    background-color: white;\n    content: '';\n    transform: rotate(-45deg);\n    transform-origin: left bottom;\n  }\n\n  &::after {\n    position: absolute;\n    left: 20px;\n    top: 35px;\n    height: 5px;\n    width: 30px;\n    background-color: white;\n    content: '';\n    transform: rotate(-45deg);\n    transform-origin: left bottom;\n  }\n"]);return _n=function(){return n},n}function Bn(){var n=Object(h.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 50px;\n  height: 50px;\n  margin-right: 5px;\n  border-radius: 5px;\n  background: ",";\n\n  &:after {\n  content: ' ';\n  display: block;\n  box-sizing: border-box;\n  width: 80%;\n  height: 80%;\n  margin: 0px;\n  border-radius: 50%;\n  border: 5px solid white;\n  border-color: white transparent white transparent;\n  animation: "," 1.2s linear infinite;\n  }\n"]);return Bn=function(){return n},n}function Pn(){var n=Object(h.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return Pn=function(){return n},n}function Yn(){var n=Object(h.a)(["\n  display: flex;\n  margin-top: 5px;\n"]);return Yn=function(){return n},n}function Wn(){var n=Object(h.a)(["\n  grid-area: submitArea;\n  margin-top: 40px;\n"]);return Wn=function(){return n},n}var Kn=O.a.div(Wn()),Jn=O.a.div(Yn()),Xn=Object(O.b)(Pn()),qn=O.a.div(Bn(),x("blue"),Xn),Qn=O.a.div(_n(),x("green")),$n=function(){var n=Object(d.b)(),t=Object(d.c)((function(n){return n.form})).status,e=Object(d.c)((function(n){return n.user})).status,a=Object(d.c)((function(n){return n.event})),c=a.days,i=a.hours,o=function(){n({type:"FORM/SAVE",payload:{status:"SAVING"}})};return Object(r.jsxs)(Kn,{children:[Object(r.jsx)(y,{view:"reject",label:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",onClick:function(){n(dn(c.map((function(){return i.map((function(){return"free"}))}))))}}),Object(r.jsxs)(Jn,{children:["SAVING"===t&&Object(r.jsx)(qn,{}),"SYNCHRONIZED"===t&&Object(r.jsx)(Qn,{}),function(){switch(t){case"SAVING":return Object(r.jsx)(y,{view:"loading",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c..."});case"SYNCHRONIZED":return Object(r.jsx)(y,{view:"resolve",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",disabled:!0});default:return"AUTHORIZED"===e?Object(r.jsx)(y,{view:"resolve",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:o}):Object(r.jsx)(y,{view:"resolve",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",disabled:!0})}}()]})]})};function nt(){var n=Object(h.a)(["\n  display: grid;\n  grid-template-columns: auto ",' 280px auto;\n  grid-template-rows: max-content max-content max-content;\n  grid-template-areas:\n    ". header header ."\n    ". event event ."\n    ". table toolsPanel ."\n    ". . submitArea .";\n  grid-column-gap: 50px;\n  grid-row-gap: 10px;\n  padding-bottom: 50px;\n']);return nt=function(){return n},n}var tt=O.a.div(nt(),(function(n){return"".concat(n.tableWidth,"px")}));function et(){var n=Object(h.a)(["\n  grid-area: description;\n  padding-left: 121px;\n  font-size: 20px;\n  color: ",";\n"]);return et=function(){return n},n}function rt(){var n=Object(h.a)(["\n  grid-area: title;\n  padding-left: 121px;\n  font-size: 100px;\n  color: ",";\n"]);return rt=function(){return n},n}function at(){var n=Object(h.a)(['\n  display: grid;\n  grid-template-columns: auto 800px auto;\n  grid-template-rows: max-content max-content max-content;\n  grid-template-areas:\n    ". header ."\n    ". title ."\n    ". description .";\n  grid-column-gap: 50px;\n  grid-row-gap: 10px;\n  padding-bottom: 50px;\n']);return at=function(){return n},n}var ct=O.a.div(at()),it=O.a.h1(rt(),x("pink")),ot=O.a.p(et(),x("red")),ut=function(){return Object(r.jsxs)(ct,{children:[Object(r.jsx)(tn,{}),Object(r.jsx)(it,{children:"404"}),Object(r.jsx)(ot,{children:"\u041a \u0441\u043e\u0436\u0430\u043b\u0435\u043d\u0438\u044e, \u0443\u043a\u0430\u0437\u0430\u043d\u043d\u0430\u044f \u0412\u0430\u043c\u0438 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u043d\u0435 \u0441\u0443\u0449\u0435\u0441\u0442\u0432\u0443\u0435\u0442 :("})]})},st=function(){var n=Object(d.b)(),t=Object(b.f)().eventId,e=Object(d.c)((function(n){return n.event})),c=e.status,i=e.hours,o=50*i.length+i.length-1+121;return o<375&&(o=375),Object(a.useEffect)((function(){n({type:"EVENT/GET",payload:{status:"GETTING_EVENT",id:t}})}),[n,t]),"NOTFOUND"===c?Object(r.jsx)(ut,{}):Object(r.jsxs)(tt,{tableWidth:o,children:[Object(r.jsx)(tn,{}),Object(r.jsx)(sn,{}),Object(r.jsx)(kn,{}),Object(r.jsx)(Vn,{}),Object(r.jsx)($n,{})]})},dt=function(){var n=Object(d.c)((function(n){return n.user})),t=Object(d.b)();return"INITIAL"===n.status&&t({type:"USER/CHECK",payload:null}),Object(r.jsx)(l.a,{children:Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.a,{exact:!0,path:"/",component:f}),Object(r.jsx)(b.a,{exact:!0,path:"/form/:eventId",component:st}),Object(r.jsx)(b.a,{path:"*",component:ut})]})})},lt=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,76)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;e(n),r(n),a(n),c(n),i(n)}))},bt={status:"INITIAL",details:null},pt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:bt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/CHECK":return{status:"CHECKING",details:null};case"USER/AUTHORIZED":return{status:"AUTHORIZED",details:t.payload};case"USER/UNAUTHORIZED":return{status:"UNAUTHORIZED",details:null};case"USER/SIGNIN":return{status:"SIGNIN",details:null};case"USER/SIGNOUT":return{status:"SIGNOUT",details:null};default:return n}},ft={status:"INITIAL",initialized:!1,table:[[]]},jt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ft,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case"FORM/DOWNLOAD":case"FORM/SYNCHRONIZED":case"FORM/SAVE":case"FORM/CHANGED":return Object(j.a)(Object(j.a)({},n),r);default:return n}},ht=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"free",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOOL/SET":return t.payload;default:return n}},Ot={status:"INITIAL",id:"",name:"",description:"",days:[],hours:[]},xt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ot,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case"EVENT/GET":case"EVENT/READY":case"EVENT/NOTFOUND":return Object(j.a)(Object(j.a)({},n),r);default:return n}},vt=Object(s.c)({user:pt,event:xt,form:jt,tool:ht}),gt=e(13),mt=e.n(gt),yt=e(42),wt=e(9),kt=e(24),Et=e(26),Nt=e(30),It=(e(73),e(57)),Tt=e(59),Ut=e(61),St=function(n){Object(It.a)(e,n);var t=Object(Tt.a)(e);function e(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User is not authorized.";return Object(kt.a)(this,e),(n=t.call(this,r)).name="Unauthorized",n}return e}(Object(Ut.a)(Error)),Rt={apiKey:"AIzaSyCd6Yj2EjJf1czNTP-1RsOfaMrJLkle73A",authDomain:"calendar-714ec.firebaseapp.com",databaseURL:"https://calendar-714ec-default-rtdb.europe-west1.firebasedatabase.app",projectId:"calendar-714ec",storageBucket:"calendar-714ec.appspot.com",messagingSenderId:"391494652034",appId:"1:391494652034:web:5f241cdd78c5509daaa49b"},Dt=function(){function n(){Object(kt.a)(this,n),Nt.a.apps.length||Nt.a.initializeApp(Rt),this.bindMethods()}return Object(Et.a)(n,[{key:"signIn",value:function(){var n=this,t=new Nt.a.auth.GoogleAuthProvider;return new Promise((function(e,r){Nt.a.auth().signInWithPopup(t).then((function(t){t.user?e(n.getUserData(t.user)):r()})).catch((function(n){return console.log(n)}))}))}},{key:"signOut",value:function(){return new Promise((function(n,t){Nt.a.auth().signOut().then((function(){n(null)})).catch((function(n){console.log(n)}))}))}},{key:"getUser",value:function(){var n=this;return new Promise((function(t,e){Nt.a.auth().onAuthStateChanged((function(r){r?t(n.getUserData(r)):e(new St)}))}))}},{key:"getUserData",value:function(n){var t=n.displayName,e=n.photoURL,r=n.uid,a=null===t||void 0===t?void 0:t.split(" ");return{userId:r,name:a?a[0]:"",lastName:a?a[1]:"",photo:e||""}}},{key:"bindMethods",value:function(){this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this),this.getUser=this.getUser.bind(this)}}]),n}(),At=e(34),Ct=function(){function n(){Object(kt.a)(this,n),At.a.apps.length||At.a.initializeApp(Rt)}return Object(Et.a)(n,[{key:"saveTable",value:function(n,t,e){return new Promise((function(r,a){At.a.database().ref("tables/".concat(n,"/").concat(t)).set(e,(function(n){n&&a(n),r()}))}))}},{key:"getTable",value:function(n,t){return At.a.database().ref("tables/".concat(n,"/").concat(t)).once("value").then(this.getDataOutOfSnapShot)}},{key:"getEvent",value:function(n){return At.a.database().ref("events/".concat(n)).once("value").then(this.getDataOutOfSnapShot)}},{key:"getDataOutOfSnapShot",value:function(n){return n.val()}}]),n}(),Ft=e(33),Ht=function(){function n(t){Object(kt.a)(this,n),this.database=void 0,this.user=null,this.database=t,this.bindMethods()}return Object(Et.a)(n,[{key:"signIn",value:function(){var n=Object(Ft.a)(mt.a.mark((function n(){return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.database.signIn();case 2:return this.user=n.sent,n.abrupt("return",this.user);case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"signOut",value:function(){return this.user=null,this.database.signOut()}},{key:"getUser",value:function(){var n=Object(Ft.a)(mt.a.mark((function n(){return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.user){n.next=4;break}return n.next=3,this.database.getUser();case 3:this.user=n.sent;case 4:return n.abrupt("return",this.user);case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"bindMethods",value:function(){this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this),this.getUser=this.getUser.bind(this)}}]),n}(),zt=function(){function n(t,e){Object(kt.a)(this,n),this.database=void 0,this.auth=void 0,this.database=t,this.auth=e}return Object(Et.a)(n,[{key:"saveTable",value:function(){var n=Object(Ft.a)(mt.a.mark((function n(t,e){var r,a;return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.auth.getUser();case 2:return r=n.sent,a=r.userId,n.abrupt("return",this.database.saveTable(t,a,e));case 5:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}()},{key:"getTable",value:function(){var n=Object(Ft.a)(mt.a.mark((function n(t){var e,r;return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.auth.getUser();case 2:return e=n.sent,r=e.userId,n.abrupt("return",this.database.getTable(t,r));case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"getEvent",value:function(n){return this.database.getEvent(n)}}]),n}(),Gt=new Ht(new Dt),Mt=new zt(new Ct,Gt),Zt=mt.a.mark(_t),Lt=mt.a.mark(Bt),Vt=mt.a.mark(Pt);function _t(){var n;return mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(wt.b)(Gt.getUser);case 3:return n=t.sent,t.next=6,Object(wt.c)(p(n));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(wt.c)({type:"USER/UNAUTHORIZED",payload:null});case 12:case"end":return t.stop()}}),Zt,null,[[0,8]])}function Bt(){var n;return mt.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(wt.b)(Gt.signIn);case 3:return n=t.sent,t.next=6,Object(wt.c)(p(n));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(wt.c)({type:"USER/UNAUTHORIZED",payload:null});case 12:case"end":return t.stop()}}),Lt,null,[[0,8]])}function Pt(){return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(wt.b)(Gt.signOut);case 3:return n.next=5,Object(wt.c)({type:"USER/UNAUTHORIZED",payload:null});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),Vt,null,[[0,7]])}var Yt=[Object(wt.e)("USER/CHECK",_t),Object(wt.e)("USER/SIGNIN",Bt),Object(wt.e)("USER/SIGNOUT",Pt)],Wt=mt.a.mark(Kt);function Kt(){var n,t,e;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(wt.d)((function(n){return n.event}));case 3:return n=r.sent,t=n.id,r.next=7,Object(wt.b)((function(){return Mt.getEvent(t)}));case 7:if(!(e=r.sent)){r.next=15;break}return r.next=11,Object(wt.c)((a=e,{type:"EVENT/READY",payload:Object(j.a)({status:"READY"},a)}));case 11:return r.next=13,Object(wt.c)({type:"FORM/DOWNLOAD",payload:{status:"DOWNLOADING"}});case 13:r.next=17;break;case 15:return r.next=17,Object(wt.c)({type:"EVENT/NOTFOUND",payload:{status:"NOTFOUND"}});case 17:r.next=24;break;case 19:return r.prev=19,r.t0=r.catch(0),r.next=23,Object(wt.c)({type:"EVENT/NOTFOUND",payload:{status:"NOTFOUND"}});case 23:console.log(r.t0);case 24:case"end":return r.stop()}var a}),Wt,null,[[0,19]])}var Jt=[Object(wt.e)("EVENT/GET",Kt)],Xt=mt.a.mark($t),qt=mt.a.mark(ne),Qt=mt.a.mark(te);function $t(){var n,t,e;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(wt.d)((function(n){return n.event}));case 2:return n=r.sent,t=n.days,e=n.hours,r.next=7,Object(wt.c)(dn(t.map((function(){return e.map((function(){return"free"}))}))));case 7:case"end":return r.stop()}}),Xt)}function ne(){var n,t,e,r;return mt.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(wt.d)((function(n){return n.event}));case 3:return n=a.sent,t=n.id,a.next=7,Object(wt.b)((function(){return Mt.getTable(t)}));case 7:if(!(e=a.sent)){a.next=15;break}return a.next=11,Object(wt.c)(dn(e));case 11:return a.next=13,Object(wt.c)({type:"FORM/SYNCHRONIZED",payload:{status:"SYNCHRONIZED"}});case 13:a.next=22;break;case 15:return a.next=17,Object(wt.d)((function(n){return n.form}));case 17:if(r=a.sent,r.initialized){a.next=22;break}return a.next=22,$t();case 22:a.next=34;break;case 24:a.prev=24,a.t0=a.catch(0),a.t1=a.t0.name,a.next="Unauthorized"===a.t1?29:33;break;case 29:return console.log("Unauthorized"),a.next=32,$t();case 32:return a.abrupt("break",34);case 33:console.log(a.t0);case 34:case"end":return a.stop()}}),qt,null,[[0,24]])}function te(){var n,t,e;return mt.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(wt.d)((function(n){return n.event}));case 3:return n=r.sent,t=n.id,r.next=7,Object(wt.d)((function(n){return n.form.table}));case 7:return e=r.sent,r.next=10,Object(wt.b)((function(){return Mt.saveTable(t,e)}));case 10:return r.next=12,Object(wt.c)({type:"FORM/SYNCHRONIZED",payload:{status:"SYNCHRONIZED"}});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),Qt,null,[[0,14]])}var ee=[Object(wt.e)("FORM/DOWNLOAD",ne),Object(wt.e)("USER/AUTHORIZED",ne),Object(wt.e)("FORM/SAVE",te)],re=mt.a.mark(ae);function ae(){return mt.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(wt.a)([].concat(Object(yt.a)(Yt),Object(yt.a)(Jt),Object(yt.a)(ee)));case 2:case"end":return n.stop()}}),re)}var ce=ae,ie=Object(u.a)(),oe=Object(s.e)(vt,Object(s.d)(Object(s.a)(ie),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));ie.run(ce),o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d.a,{store:oe,children:Object(r.jsx)(dt,{})})}),document.getElementById("root")),lt()}},[[75,1,2]]]);
//# sourceMappingURL=main.b79a1d2c.chunk.js.map