(this.webpackJsonpcalendar=this.webpackJsonpcalendar||[]).push([[0],{70:function(n,t,e){},75:function(n,t,e){"use strict";e.r(t);var r=e(4),a=e(2),c=e.n(a),i=e(38),o=e.n(i),u=e(60),s=e(25),d=e(12),l=(e(70),e(46)),b=e(17),p=function(n){return{type:"USER/AUTHORIZED",payload:n}},f=function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)("h1",{children:"Main"})})},h=e(20),j=e(7),O=e(8),x=function(n){return{black:"#333",red:"#ff5e78",blue:"#51c2d5",pink:"#ffb4b4",green:"#75cfb8",grey:"#eee",white:"white"}[n]};function v(){var n=Object(j.a)(["\n  width: 100%;\n  height: 50px;\n  font-size: 16px;\n  font-weight: bold;\n  color: ",";\n  background: ",";\n  border-radius: 5px;\n  cursor: pointer;\n\n  border: ",";\n\n  &:hover {\n    opacity: 0.5;\n  }\n\n  &:disabled {\n    opacity: 0.5;\n    cursor: default;\n  }\n"]);return v=function(){return n},n}var g=O.a.button(v(),(function(n){return x(n.color)}),(function(n){return x(n.background)}),(function(n){return n.border?"2px solid ".concat(x(n.border)):"none"})),y={resolve:{color:"white",background:"green"},reject:{color:"red",background:"white",border:"red"},loading:{color:"white",background:"blue"}},m=function(n){var t=n.label,e=n.view,a=n.type,c=void 0===a?"button":a,i=n.disabled,o=void 0!==i&&i,u=n.onClick,s=void 0===u?function(){}:u,d="string"===typeof e?y[e]:e,l=d.color,b=d.border,p=d.background;return Object(r.jsx)(g,{type:c,color:l,border:b,background:p,disabled:o,onClick:s,children:t})};function w(){var n=Object(j.a)(["\n  width: 120px;\n"]);return w=function(){return n},n}function k(){var n=Object(j.a)(["\n  font-size: 18px;\n"]);return k=function(){return n},n}function E(){var n=Object(j.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 50%;\n  margin-right: 15px;\n"]);return E=function(){return n},n}function N(){var n=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  margin-left: -65px;\n"]);return N=function(){return n},n}function I(){var n=Object(j.a)(["\n  display: flex;\n  justify-content: space-between;\n  width: 100%;\n  padding: 10px 0;\n  border-bottom: 1px solid #eee;\n"]);return I=function(){return n},n}function T(){var n=Object(j.a)(["\n  width: 100%;\n  padding-left: 121px;\n"]);return T=function(){return n},n}var U=O.a.header(T()),S=O.a.div(I()),R=O.a.div(N()),D=O.a.img(E()),A=O.a.div(k()),C=O.a.div(w()),F=function(n){var t=n.user,e=t.name,a=t.lastName,c=t.photo,i=Object(d.b)();return Object(r.jsx)(U,{children:Object(r.jsxs)(S,{children:[Object(r.jsxs)(R,{children:[Object(r.jsx)(D,{src:c}),Object(r.jsx)(A,{children:"".concat(e," ").concat(a)})]}),Object(r.jsx)(C,{children:Object(r.jsx)(m,{view:"reject",label:"\u0412\u044b\u0439\u0442\u0438",onClick:function(){return i({type:"USER/SIGNOUT",payload:null})}})})]})})},H=e(58);function G(){var n=Object(j.a)(["\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  width: 20px;\n  height: 20px;\n  font-size: 20px;\n  line-height: 20px;\n  opacity: 0.3;\n  border: 0;\n  background: none;\n  cursor: pointer;\n"]);return G=function(){return n},n}function M(){var n=Object(j.a)(["\n  width: 100%;\n  margin-top: 10px;\n"]);return M=function(){return n},n}function L(){var n=Object(j.a)(["\n  width: 100%;\n  font-size: 18px;\n  font-weight: bold;\n"]);return L=function(){return n},n}function V(){var n=Object(j.a)(["\n  position: relative;\n  width: 100%;\n  padding: 20px;\n  color: ",";\n  border: 1px solid ",";\n  border-radius: 5px;\n  background: ",";\n"]);return V=function(){return n},n}var z=O.a.div(V(),x("red"),x("red"),x("pink")),Z=O.a.p(L()),_=O.a.p(M()),B=O.a.button(G()),P=function(n){var t=n.title,e=n.description,c=Object(a.useState)(!0),i=Object(H.a)(c,2),o=i[0],u=i[1];return o?Object(r.jsxs)(z,{children:[Object(r.jsx)(Z,{children:t}),Object(r.jsx)(_,{children:e}),Object(r.jsx)(B,{type:"button",onClick:function(){u(!1)},children:"\u2716"})]}):Object(r.jsx)(r.Fragment,{})};function Y(){var n=Object(j.a)(["\n  width: 100%;\n  margin-top: 10px;\n"]);return Y=function(){return n},n}function W(){var n=Object(j.a)(["\n  width: 120px;\n"]);return W=function(){return n},n}function K(){var n=Object(j.a)(["\n  display: flex;\n  justify-content: flex-end;\n  width: 100%;\n  padding: 10px 0;\n  border-bottom: 1px solid #eee;\n"]);return K=function(){return n},n}function J(){var n=Object(j.a)(["\n  width: 100%;\n  padding-left: 121px;\n"]);return J=function(){return n},n}var X=O.a.header(J()),q=O.a.div(K()),Q=O.a.div(W()),$=O.a.div(Y()),nn=function(){var n=Object(d.b)();return Object(r.jsxs)(X,{children:[Object(r.jsx)(q,{children:Object(r.jsx)(Q,{children:Object(r.jsx)(m,{view:"resolve",label:"\u0412\u043e\u0439\u0442\u0438",onClick:function(){return n({type:"USER/SIGNIN",payload:null})}})})}),Object(r.jsx)($,{children:Object(r.jsx)(P,{title:"\u0412\u043d\u0438\u043c\u0430\u043d\u0438\u0435! \u0414\u043b\u044f \u0434\u0430\u043b\u044c\u043d\u0435\u0439\u0448\u0438\u0445 \u0434\u0435\u0439\u0441\u0442\u0432\u0438\u0439 \u0442\u0440\u0435\u0431\u0443\u0435\u0442\u0441\u044f \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u0430\u0446\u0438\u044f!",description:"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430 \u0434\u0430\u043d\u043d\u044b\u0445 \u0434\u043e\u0441\u0442\u0443\u043f\u043d\u0430 \u0442\u043e\u043b\u044c\u043a\u043e \u0430\u0432\u0442\u043e\u0440\u0438\u0437\u043e\u0432\u0430\u043d\u043d\u044b\u043c \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044f\u043c"})})]})},tn=function(){var n=Object(d.c)((function(n){return n.user})),t=n.status,e=n.details;return"AUTHORIZED"===t&&e?Object(r.jsx)(F,{user:e}):Object(r.jsx)(nn,{})};function en(){var n=Object(j.a)(["\n  margin-top: 10px;\n  color: #333;\n  padding-bottom: 30px;\n  border-bottom: 1px solid #eee;\n"]);return en=function(){return n},n}function rn(){var n=Object(j.a)(["\n  color: #333;\n"]);return rn=function(){return n},n}function an(){var n=Object(j.a)(["\n  grid-area: description;\n  padding-left: 121px;\n"]);return an=function(){return n},n}function cn(){var n=Object(j.a)(["\n  grid-area: header;\n  width: 100%;\n"]);return cn=function(){return n},n}function on(){var n=Object(j.a)(["\n  display: grid;\n  grid-template-columns: auto ",' 280px auto;\n  grid-template-rows: max-content max-content max-content;\n  grid-template-areas:\n    ". header header ."\n    ". description description ."\n    ". table toolsPanel ."\n    ". . submitArea .";\n  grid-column-gap: 50px;\n  grid-row-gap: 10px;\n  padding-bottom: 50px;\n']);return on=function(){return n},n}var un=O.a.div(on(),(function(n){return"".concat(n.tableWidth,"px")})),sn=O.a.div(cn()),dn=O.a.div(an()),ln=O.a.h1(rn()),bn=O.a.p(en()),pn=function(n){return{type:"FORM/CHANGED",payload:{status:"CHANGED",table:n}}},fn=function(n){switch(n){case"busy":return x("red");case"undesirable":return x("pink");case"free":return x("blue");case"preferred":return x("green");default:return""}};function hn(){var n=Object(j.a)(["\n  width: 50px;\n  height: 50px;\n  background: ",";\n  cursor: pointer;\n  border: 0 solid white;\n\n  &:hover {\n    border: 2px solid white;\n  }\n"]);return hn=function(){return n},n}var jn=O.a.td(hn(),(function(n){return fn(n.status)})),On=function(n){var t=n.status,e=n.row,a=n.column,c=n.callBack;return Object(r.jsx)(jn,{status:t,onClick:function(){return c(e,a)}})};function xn(){var n=Object(j.a)(["\n  width: 120px;\n  height: 50px;\n  font-size: 15px;\n  text-align: left;\n  text-transform: capitalize;\n  color: #333;\n  padding-left: 10px;\n  border-radius: 5px 0 0 5px;\n  background: #eee;\n"]);return xn=function(){return n},n}function vn(){var n=Object(j.a)(["\n  height: 50px;\n  font-size: 15px;\n  color: #333;\n  border-radius: 5px 5px 0 0;\n  background: #eee;\n"]);return vn=function(){return n},n}var gn=O.a.th(vn()),yn=O.a.th(xn()),mn=function(n){var t=n.days,e=n.hours,a=n.matrix,c=n.callBack;return Object(r.jsxs)("table",{children:[Object(r.jsx)("thead",{children:Object(r.jsxs)("tr",{children:[Object(r.jsx)("th",{}),e.map((function(n,t){return Object(r.jsx)(gn,{children:n},"".concat(t))}))]})}),Object(r.jsx)("tbody",{children:a.map((function(n,e){return Object(r.jsxs)("tr",{children:[Object(r.jsx)(yn,{children:t[e]}),n.map((function(n,t){return Object(r.jsx)(On,{status:a[e][t],row:e,column:t,callBack:c},"".concat(e).concat(t))}))]},"".concat(e))}))})]})};function wn(){var n=Object(j.a)(["\n  max-width: 300px;\n  margin-left: 122px;\n  margin-bottom: 10px;\n  color: #333;\n"]);return wn=function(){return n},n}function kn(){var n=Object(j.a)(["\n  grid-area: table;\n"]);return kn=function(){return n},n}var En=O.a.div(kn()),Nn=O.a.h2(wn()),In=function(){var n=Object(d.b)(),t=Object(d.c)((function(n){return n.event})),e=t.days,a=t.hours,c=Object(d.c)((function(n){return n.form})).table,i=Object(d.c)((function(n){return n.tool}));return e.length&&a.length&&c?Object(r.jsxs)(En,{children:[Object(r.jsx)(Nn,{children:"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0432\u0440\u0435\u043c\u044f, \u043a\u043e\u0433\u0434\u0430 \u0432\u0430\u043c \u0443\u0434\u043e\u0431\u043d\u043e \u0432\u0441\u0442\u0440\u0435\u0442\u0438\u0442\u044c\u0441\u044f:"}),Object(r.jsx)(mn,{days:e,hours:a,matrix:c,callBack:function(t,e){n(pn(c.map((function(n,r){return n.map((function(n,a){return t===r&&e===a?i:c[r][a]}))}))))}})]}):Object(r.jsx)(r.Fragment,{})};function Tn(){var n=Object(j.a)(["\n  padding-left: 65px;\n  margin: 10px 0;\n  font-size: 20px;\n  font-weight: bold;\n  color: #333;\n"]);return Tn=function(){return n},n}function Un(){var n=Object(j.a)(["\n  width: 280px;\n"]);return Un=function(){return n},n}var Sn=O.a.form(Un()),Rn=O.a.p(Tn());function Dn(){var n=Object(j.a)(["\n  display: none;\n\n  &:checked ~ "," {\n    min-width: 60px;\n  }\n\n  &:checked ~ "," {\n    border-top: 1px solid;\n    border-right: 1px solid;\n    border-bottom: 1px solid;\n    border-color: ",";\n  }\n"]);return Dn=function(){return n},n}function An(){var n=Object(j.a)(["\n  display: flex;\n  align-items: center;\n  width: 100%;\n  height: 50px;\n  padding: 0 15px;\n  background: #eee;\n  border-radius: 0 5px 5px 0;\n"]);return An=function(){return n},n}function Cn(){var n=Object(j.a)(["\n  display: block;\n  min-width: 50px;\n  height: 50px;\n  background: ",";\n  border-radius: 5px 0 0 5px;\n  z-index: 1;\n  transition-property: min-width;\n  transition-duration: 0.1s;\n  transition-timing-function: ease-in;\n"]);return Cn=function(){return n},n}function Fn(){var n=Object(j.a)(["\n  display: flex;\n  width: 100%;\n  margin-top: 5px;\n  cursor: pointer;\n"]);return Fn=function(){return n},n}var Hn=O.a.label(Fn()),Gn=O.a.span(Cn(),(function(n){return fn(n.toolType)})),Mn=O.a.span(An()),Ln=O.a.input(Dn(),Gn,Mn,(function(n){return fn(n.toolType)})),Vn=function(n){var t=n.toolType,e=n.label,a=n.chosen,c=n.callBack;return Object(r.jsxs)(Hn,{onClick:function(){return c?c(t):null},children:[Object(r.jsx)(Ln,{toolType:t,type:"radio",name:"tool",defaultChecked:a}),Object(r.jsx)(Gn,{toolType:t}),Object(r.jsx)(Mn,{children:e})]})},zn=function(n){var t=n.title,e=n.items,a=n.chosenTool,c=n.callBack;return Object(r.jsxs)(Sn,{children:[Object(r.jsx)(Rn,{children:t}),e.map((function(n,t){return Object(r.jsx)(Vn,Object(h.a)(Object(h.a)({},n),{},{callBack:c,chosen:a===n.toolType}),"".concat(t))}))]})},Zn={title:"\u0412\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435 \u0432\u0440\u0435\u043c\u044f:",items:[{toolType:"busy",label:"\u0422\u043e\u0447\u043d\u043e \u0437\u0430\u043d\u044f\u0442\u043e"},{toolType:"undesirable",label:"\u0412\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0437\u0430\u043d\u044f\u0442\u043e"},{toolType:"free",label:"\u0421\u0432\u043e\u0431\u043e\u0434\u043d\u043e"},{toolType:"preferred",label:"\u041f\u0440\u0435\u0434\u043f\u043e\u0447\u0442\u0438\u0442\u0435\u043b\u044c\u043d\u043e"}]};function _n(){var n=Object(j.a)(["\n  grid-area: toolsPanel;\n  align-self: end;\n"]);return _n=function(){return n},n}var Bn=O.a.div(_n()),Pn=function(){var n=Object(d.b)(),t=Object(d.c)((function(n){return n.tool})),e=Object(d.c)((function(n){return n.event})),a=e.days,c=e.hours,i=Object(d.c)((function(n){return n.form})).table;return a.length&&c.length&&i?Object(r.jsx)(Bn,{children:Object(r.jsx)(zn,Object(h.a)({},Object(h.a)(Object(h.a)({},Zn),{},{chosenTool:t,callBack:function(t){n(function(n){return{type:"TOOL/SET",payload:n}}(t))}})))}):Object(r.jsx)(r.Fragment,{})};function Yn(){var n=Object(j.a)(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  min-width: 50px;\n  height: 50px;\n  padding-top: 5px;\n  margin-right: 5px;\n  border-radius: 5px;\n  background: ",";\n\n  ::before {\n    position: absolute;\n    top: 25px;\n    left: 20px;\n    height: 15px;\n    width: 5px;\n    background-color: white;\n    content: '';\n    transform: rotate(-45deg);\n    transform-origin: left bottom;\n  }\n\n  &::after {\n    position: absolute;\n    left: 20px;\n    top: 35px;\n    height: 5px;\n    width: 30px;\n    background-color: white;\n    content: '';\n    transform: rotate(-45deg);\n    transform-origin: left bottom;\n  }\n"]);return Yn=function(){return n},n}function Wn(){var n=Object(j.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 50px;\n  height: 50px;\n  margin-right: 5px;\n  border-radius: 5px;\n  background: ",";\n\n  &:after {\n  content: ' ';\n  display: block;\n  box-sizing: border-box;\n  width: 80%;\n  height: 80%;\n  margin: 0px;\n  border-radius: 50%;\n  border: 5px solid white;\n  border-color: white transparent white transparent;\n  animation: "," 1.2s linear infinite;\n  }\n"]);return Wn=function(){return n},n}function Kn(){var n=Object(j.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n"]);return Kn=function(){return n},n}function Jn(){var n=Object(j.a)(["\n  display: flex;\n  margin-top: 5px;\n"]);return Jn=function(){return n},n}function Xn(){var n=Object(j.a)(["\n  grid-area: submitArea;\n  margin-top: 40px;\n"]);return Xn=function(){return n},n}var qn=O.a.div(Xn()),Qn=O.a.div(Jn()),$n=Object(O.b)(Kn()),nt=O.a.div(Wn(),x("blue"),$n),tt=O.a.div(Yn(),x("green")),et=function(){var n=Object(d.b)(),t=Object(d.c)((function(n){return n.form})).status,e=Object(d.c)((function(n){return n.event})),a=e.days,c=e.hours,i=function(){n({type:"FORM/SAVE",payload:{status:"SAVING"}})};return Object(r.jsxs)(qn,{children:[Object(r.jsx)(m,{view:"reject",label:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",onClick:function(){n(pn(a.map((function(){return c.map((function(){return"free"}))}))))}}),Object(r.jsxs)(Qn,{children:["SAVING"===t&&Object(r.jsx)(nt,{}),"SYNCHRONIZED"===t&&Object(r.jsx)(tt,{}),function(){switch(t){case"SAVING":return Object(r.jsx)(m,{view:"loading",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u044f\u0435\u043c..."});case"SYNCHRONIZED":return Object(r.jsx)(m,{view:"resolve",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0435\u043d\u043e",onClick:i,disabled:!0});default:return Object(r.jsx)(m,{view:"resolve",label:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c",onClick:i})}}()]})]})},rt=function(){var n=Object(d.b)(),t=(Object(b.f)(),Object(b.g)().eventId),e=Object(d.c)((function(n){return n.event})),c=(e.status,e.name),i=e.hours,o=50*i.length+i.length-1+121;return o<375&&(o=375),Object(a.useEffect)((function(){n({type:"EVENT/GET",payload:{status:"GETTING_EVENT",id:t}})}),[n,t]),Object(r.jsxs)(un,{tableWidth:o,children:[Object(r.jsx)(sn,{children:Object(r.jsx)(tn,{})}),Object(r.jsxs)(dn,{children:[Object(r.jsx)(ln,{children:c}),Object(r.jsx)(bn,{children:"\u041d\u043e \u043d\u043e\u0432\u0430\u044f \u043c\u043e\u0434\u0435\u043b\u044c \u043e\u0440\u0433\u0430\u043d\u0438\u0437\u0430\u0446\u0438\u043e\u043d\u043d\u043e\u0439 \u0434\u0435\u044f\u0442\u0435\u043b\u044c\u043d\u043e\u0441\u0442\u0438 \u0442\u0440\u0435\u0431\u0443\u0435\u0442 \u043e\u043f\u0440\u0435\u0434\u0435\u043b\u0435\u043d\u0438\u044f \u0438 \u0443\u0442\u043e\u0447\u043d\u0435\u043d\u0438\u044f \u043a\u043b\u0430\u0441\u0442\u0435\u0440\u0438\u0437\u0430\u0446\u0438\u0438 \u0443\u0441\u0438\u043b\u0438\u0439! \u041b\u0438\u0448\u044c \u0441\u0442\u0440\u0435\u043c\u044f\u0449\u0438\u0435\u0441\u044f \u0432\u044b\u0442\u0435\u0441\u043d\u0438\u0442\u044c \u0442\u0440\u0430\u0434\u0438\u0446\u0438\u043e\u043d\u043d\u043e\u0435 \u043f\u0440\u043e\u0438\u0437\u0432\u043e\u0434\u0441\u0442\u0432\u043e, \u043d\u0430\u043d\u043e\u0442\u0435\u0445\u043d\u043e\u043b\u043e\u0433\u0438\u0438 \u0432 \u0440\u0430\u0432\u043d\u043e\u0439 \u0441\u0442\u0435\u043f\u0435\u043d\u0438 \u043f\u0440\u0435\u0434\u043e\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u044b \u0441\u0430\u043c\u0438 \u0441\u0435\u0431\u0435. \u0411\u0435\u0437\u0443\u0441\u043b\u043e\u0432\u043d\u043e, \u0443\u0431\u0435\u0436\u0434\u0451\u043d\u043d\u043e\u0441\u0442\u044c \u043d\u0435\u043a\u043e\u0442\u043e\u0440\u044b\u0445 \u043e\u043f\u043f\u043e\u043d\u0435\u043d\u0442\u043e\u0432 \u043f\u043e\u0437\u0432\u043e\u043b\u044f\u0435\u0442 \u0432\u044b\u043f\u043e\u043b\u043d\u0438\u0442\u044c \u0432\u0430\u0436\u043d\u044b\u0435 \u0437\u0430\u0434\u0430\u043d\u0438\u044f \u043f\u043e \u0440\u0430\u0437\u0440\u0430\u0431\u043e\u0442\u043a\u0435 \u0432\u044b\u0432\u043e\u0434\u0430 \u0442\u0435\u043a\u0443\u0449\u0438\u0445 \u0430\u043a\u0442\u0438\u0432\u043e\u0432."})]}),Object(r.jsx)(In,{}),Object(r.jsx)(Pn,{}),Object(r.jsx)(et,{})]})},at=function(){var n=Object(d.c)((function(n){return n.user})),t=Object(d.b)();return"INITIAL"===n.status&&t({type:"USER/CHECK",payload:null}),Object(r.jsx)(l.a,{children:Object(r.jsxs)(b.c,{children:[Object(r.jsx)(b.a,{exact:!0,path:"".concat(".","/"),component:f}),Object(r.jsx)(b.a,{exact:!0,path:"".concat(".","/form/:eventId"),component:rt}),Object(r.jsx)(b.a,{path:"*",component:f})]})})},ct=function(n){n&&n instanceof Function&&e.e(3).then(e.bind(null,76)).then((function(t){var e=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;e(n),r(n),a(n),c(n),i(n)}))},it={status:"INITIAL",details:null},ot=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:it,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER/CHECK":return{status:"CHECKING",details:null};case"USER/AUTHORIZED":return{status:"AUTHORIZED",details:t.payload};case"USER/UNAUTHORIZED":return{status:"UNAUTHORIZED",details:null};case"USER/SIGNIN":return{status:"SIGNIN",details:null};case"USER/SIGNOUT":return{status:"SIGNOUT",details:null};default:return n}},ut={status:"INITIAL",table:[[]]},st=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ut,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case"FORM/DOWNLOAD":case"FORM/SYNCHRONIZED":case"FORM/SAVE":case"FORM/CHANGED":return Object(h.a)(Object(h.a)({},n),r);default:return n}},dt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"free",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOOL/SET":return t.payload;default:return n}},lt={status:"INITIAL",id:"",name:"",description:"",days:[],hours:[]},bt=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0,e=t.type,r=t.payload;switch(e){case"EVENT/GET":case"EVENT/READY":case"EVENT/NOTFOUND":return Object(h.a)(Object(h.a)({},n),r);default:return n}},pt=Object(s.c)({user:ot,event:bt,form:st,tool:dt}),ft=e(14),ht=e.n(ft),jt=e(42),Ot=e(11),xt=e(24),vt=e(26),gt=e(30),yt=(e(73),e(57)),mt=e(59),wt=e(61),kt=function(n){Object(yt.a)(e,n);var t=Object(mt.a)(e);function e(){var n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User is not authorized.";return Object(xt.a)(this,e),(n=t.call(this,r)).name="Unauthorized",n}return e}(Object(wt.a)(Error)),Et={apiKey:"AIzaSyCd6Yj2EjJf1czNTP-1RsOfaMrJLkle73A",authDomain:"calendar-714ec.firebaseapp.com",databaseURL:"https://calendar-714ec-default-rtdb.europe-west1.firebasedatabase.app",projectId:"calendar-714ec",storageBucket:"calendar-714ec.appspot.com",messagingSenderId:"391494652034",appId:"1:391494652034:web:5f241cdd78c5509daaa49b"},Nt=function(){function n(){Object(xt.a)(this,n),gt.a.apps.length||gt.a.initializeApp(Et),this.bindMethods()}return Object(vt.a)(n,[{key:"signIn",value:function(){var n=this,t=new gt.a.auth.GoogleAuthProvider;return new Promise((function(e,r){gt.a.auth().signInWithPopup(t).then((function(t){t.user?e(n.getUserData(t.user)):r()})).catch((function(n){return console.log(n)}))}))}},{key:"signOut",value:function(){return new Promise((function(n,t){gt.a.auth().signOut().then((function(){n(null)})).catch((function(n){console.log(n)}))}))}},{key:"getUser",value:function(){var n=this;return new Promise((function(t,e){gt.a.auth().onAuthStateChanged((function(r){r?t(n.getUserData(r)):e(new kt)}))}))}},{key:"getUserData",value:function(n){var t=n.displayName,e=n.photoURL,r=n.uid,a=null===t||void 0===t?void 0:t.split(" ");return{userId:r,name:a?a[0]:"",lastName:a?a[1]:"",photo:e||""}}},{key:"bindMethods",value:function(){this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this),this.getUser=this.getUser.bind(this)}}]),n}(),It=e(34),Tt=function(){function n(){Object(xt.a)(this,n),It.a.apps.length||It.a.initializeApp(Et)}return Object(vt.a)(n,[{key:"saveTable",value:function(n,t,e){return new Promise((function(r,a){It.a.database().ref("tables/".concat(n,"/").concat(t)).set(e,(function(n){n&&a(n),r()}))}))}},{key:"getTable",value:function(n,t){return It.a.database().ref("tables/".concat(n,"/").concat(t)).once("value").then(this.getDataOutOfSnapShot)}},{key:"getEvent",value:function(n){return It.a.database().ref("events/".concat(n)).once("value").then(this.getDataOutOfSnapShot)}},{key:"getDataOutOfSnapShot",value:function(n){return n.val()}}]),n}(),Ut=e(33),St=function(){function n(t){Object(xt.a)(this,n),this.database=void 0,this.user=null,this.database=t,this.bindMethods()}return Object(vt.a)(n,[{key:"signIn",value:function(){var n=Object(Ut.a)(ht.a.mark((function n(){return ht.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.database.signIn();case 2:return this.user=n.sent,n.abrupt("return",this.user);case 4:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"signOut",value:function(){return this.user=null,this.database.signOut()}},{key:"getUser",value:function(){var n=Object(Ut.a)(ht.a.mark((function n(){return ht.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(this.user){n.next=4;break}return n.next=3,this.database.getUser();case 3:this.user=n.sent;case 4:return n.abrupt("return",this.user);case 5:case"end":return n.stop()}}),n,this)})));return function(){return n.apply(this,arguments)}}()},{key:"bindMethods",value:function(){this.signIn=this.signIn.bind(this),this.signOut=this.signOut.bind(this),this.getUser=this.getUser.bind(this)}}]),n}(),Rt=function(){function n(t,e){Object(xt.a)(this,n),this.database=void 0,this.auth=void 0,this.database=t,this.auth=e}return Object(vt.a)(n,[{key:"saveTable",value:function(){var n=Object(Ut.a)(ht.a.mark((function n(t,e){var r,a;return ht.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.auth.getUser();case 2:return r=n.sent,a=r.userId,n.abrupt("return",this.database.saveTable(t,a,e));case 5:case"end":return n.stop()}}),n,this)})));return function(t,e){return n.apply(this,arguments)}}()},{key:"getTable",value:function(){var n=Object(Ut.a)(ht.a.mark((function n(t){var e,r;return ht.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.auth.getUser();case 2:return e=n.sent,r=e.userId,n.abrupt("return",this.database.getTable(t,r));case 5:case"end":return n.stop()}}),n,this)})));return function(t){return n.apply(this,arguments)}}()},{key:"getEvent",value:function(n){return this.database.getEvent(n)}}]),n}(),Dt=new St(new Nt),At=new Rt(new Tt,Dt),Ct=ht.a.mark(Gt),Ft=ht.a.mark(Mt),Ht=ht.a.mark(Lt);function Gt(){var n;return ht.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ot.b)(Dt.getUser);case 3:return n=t.sent,t.next=6,Object(Ot.c)(p(n));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Ot.c)({type:"USER/UNAUTHORIZED",payload:null});case 12:case"end":return t.stop()}}),Ct,null,[[0,8]])}function Mt(){var n;return ht.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(Ot.b)(Dt.signIn);case 3:return n=t.sent,t.next=6,Object(Ot.c)(p(n));case 6:t.next=12;break;case 8:return t.prev=8,t.t0=t.catch(0),t.next=12,Object(Ot.c)({type:"USER/UNAUTHORIZED",payload:null});case 12:case"end":return t.stop()}}),Ft,null,[[0,8]])}function Lt(){return ht.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,Object(Ot.b)(Dt.signOut);case 3:return n.next=5,Object(Ot.c)({type:"USER/UNAUTHORIZED",payload:null});case 5:n.next=10;break;case 7:n.prev=7,n.t0=n.catch(0),console.log(n.t0);case 10:case"end":return n.stop()}}),Ht,null,[[0,7]])}var Vt=[Object(Ot.e)("USER/CHECK",Gt),Object(Ot.e)("USER/SIGNIN",Mt),Object(Ot.e)("USER/SIGNOUT",Lt)],zt=ht.a.mark(Zt);function Zt(){var n,t,e;return ht.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Ot.d)((function(n){return n.event}));case 3:return n=r.sent,t=n.id,r.next=7,Object(Ot.b)((function(){return At.getEvent(t)}));case 7:if(!(e=r.sent)){r.next=15;break}return r.next=11,Object(Ot.c)((a=e,{type:"EVENT/READY",payload:Object(h.a)({status:"READY"},a)}));case 11:return r.next=13,Object(Ot.c)({type:"FORM/DOWNLOAD",payload:{status:"DOWNLOADING"}});case 13:r.next=17;break;case 15:return r.next=17,Object(Ot.c)({type:"EVENT/NOTFOUND",payload:{status:"NOTFOUND"}});case 17:r.next=24;break;case 19:return r.prev=19,r.t0=r.catch(0),r.next=23,Object(Ot.c)({type:"EVENT/NOTFOUND",payload:{status:"NOTFOUND"}});case 23:console.log(r.t0);case 24:case"end":return r.stop()}var a}),zt,null,[[0,19]])}var _t=[Object(Ot.e)("EVENT/GET",Zt)],Bt=ht.a.mark(Yt),Pt=ht.a.mark(Wt);function Yt(){var n,t,e;return ht.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Ot.d)((function(n){return n.event}));case 3:return n=r.sent,t=n.id,r.next=7,Object(Ot.b)((function(){return At.getTable(t)}));case 7:return e=r.sent,r.next=10,Object(Ot.c)(pn(e));case 10:return r.next=12,Object(Ot.c)({type:"FORM/SYNCHRONIZED",payload:{status:"SYNCHRONIZED"}});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),Bt,null,[[0,14]])}function Wt(){var n,t,e;return ht.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(Ot.d)((function(n){return n.event}));case 3:return n=r.sent,t=n.id,r.next=7,Object(Ot.d)((function(n){return n.form.table}));case 7:return e=r.sent,r.next=10,Object(Ot.b)((function(){return At.saveTable(t,e)}));case 10:return r.next=12,Object(Ot.c)({type:"FORM/SYNCHRONIZED",payload:{status:"SYNCHRONIZED"}});case 12:r.next=17;break;case 14:r.prev=14,r.t0=r.catch(0),console.log(r.t0);case 17:case"end":return r.stop()}}),Pt,null,[[0,14]])}var Kt=[Object(Ot.e)("FORM/DOWNLOAD",Yt),Object(Ot.e)("FORM/SAVE",Wt)],Jt=ht.a.mark(Xt);function Xt(){return ht.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(Ot.a)([].concat(Object(jt.a)(Vt),Object(jt.a)(_t),Object(jt.a)(Kt)));case 2:case"end":return n.stop()}}),Jt)}var qt=Xt,Qt=Object(u.a)(),$t=Object(s.e)(pt,Object(s.d)(Object(s.a)(Qt),window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()));Qt.run(qt),o.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(d.a,{store:$t,children:Object(r.jsx)(at,{})})}),document.getElementById("root")),ct()}},[[75,1,2]]]);
//# sourceMappingURL=main.ab43e3fc.chunk.js.map